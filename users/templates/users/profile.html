{% extends 'base.html' %}

{% block content %}
<h1>{{ member.username }}의 프로필 페이지</h1>

<div>
    <h2>username : {{ member.username }}</h2>

    <p>팔로워 수: {{ member.profile.follower_count }}</p>
    <p>팔로잉 수: {{ member.profile.following_count }}</p>

    <!-- 팔로워, 팔로잉 수가 표시, 계산되지 않는다. 뭐가 문제지? -->
    <!-- ORM 자료 한번더 봐보기 -->

    {% if request.user != member %}
    <form action="{% url 'users:follow' member.pk %}" method="POST">
        {% csrf_token %}
        {% if request.user in member.followers.all %}
        <input type="submit" value="언팔로우">
        {% else %}
        <input type="submit" value="팔로우">
        {% endif %}
    </form>
    {% endif %}
</div>


<a href="{% url 'articles:mainpage' %}">홈으로 돌아가기</a>

{% endblock content %}